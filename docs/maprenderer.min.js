var styles={epicenter:[new ol.style.Style({image:new ol.style.Icon({scale:.9,src:"images/epicenter.png"})})],1:[new ol.style.Style({image:new ol.style.Icon({scale:.5,src:"images/int1.png"})})],2:[new ol.style.Style({image:new ol.style.Icon({scale:.5,src:"images/int2.png"})})],3:[new ol.style.Style({image:new ol.style.Icon({scale:.5,src:"images/int3.png"})})],4:[new ol.style.Style({image:new ol.style.Icon({scale:.5,src:"images/int4.png"})})],"5-":[new ol.style.Style({image:new ol.style.Icon({scale:.5,src:"images/int5l.png"})})],"5+":[new ol.style.Style({image:new ol.style.Icon({scale:.5,src:"images/int5h.png"})})],"6-":[new ol.style.Style({image:new ol.style.Icon({scale:.5,src:"images/int6l.png"})})],"6+":[new ol.style.Style({image:new ol.style.Icon({scale:.5,src:"images/int6h.png"})})],7:[new ol.style.Style({image:new ol.style.Icon({scale:.5,src:"images/int7.png"})})]},styleFunction=function(e,l){return styles[e.get("class")]},smallScalePoints=new ol.layer.Vector({source:new ol.source.Vector({url:"smallScalePoints.json",format:new ol.format.GeoJSON}),style:styleFunction,minResolution:1e3,maxResolution:2e4}),largeScalePoints=new ol.layer.Vector({source:new ol.source.Vector({url:"largeScalePoints.json",format:new ol.format.GeoJSON}),style:styleFunction,minResolution:20,maxResolution:1e3}),map=new ol.Map({target:"map",renderer:"canvas",layers:[new ol.layer.Tile({source:new ol.source.OSM}),smallScalePoints,largeScalePoints],view:new ol.View({center:ol.proj.transform([134.15,35.27],"EPSG:4326","EPSG:3857"),zoom:6})}),source=smallScalePoints.getSource(),onChangeKey=source.on("change",function(){"ready"==source.getState()&&(ol.Observable.unByKey(onChangeKey),map.getView().fit(source.getExtent(),{size:map.getSize(),padding:[10,10,10,10],maxZoom:8}))});